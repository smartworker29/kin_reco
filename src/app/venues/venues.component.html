<app-layout-header></app-layout-header>

<div class="container-fluid">
    <div class="main-section">

        <mat-card class="venue-card" *ngIf="venue">
            <div class="row">
                <div class="col-md-12">
                    <mat-card-header>
                        <mat-card-title class="venue-header">{{ venue.name }}</mat-card-title>
                    </mat-card-header>
                </div>
            </div>
            <br>
            <div class="row">
                
                <div class="col-md-4"></div>
                <div class="col-md-4"> <img mat-card-image class="header-image" [src]=venue.image_url
                        alt="Photo of the venue"></div>
                <div class="col-md-4"></div>
            </div>
            <hr class="hr-Rectangle-200">

            <mat-card-content>
                    <div class="row justify-content-center">
                                <div class="row">
                                    <div class="col">
                                        <div class="mb-2">
                                        <div class="cursor" title="Save" *ngIf="is_parent_id === false">
                                            <img src="../../assets/icons/save_grey.png" class="actionIcon" />
                                        </div>
                                        <div class="cursor" title="Save" (click)="save_venue()" *ngIf="is_parent_id && isSaveVisible != true">
                                            <img class="actionIcon" src="../../assets/icons/save_blue.png" />
                                        </div>
                                        <div class="cursor" title="Saved" *ngIf="isSaveVisible">
                                            <img class="actionIcon" src="../../assets/icons/save_orange.png" />
                                        </div>

                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="d-flex text-center mb-2">
                                                <div class="cursor" (click)="add_review_redirect(2)" *ngIf="is_parent_id === false" title="Add Review">
                                                    <img src="../../assets/icons/review_grey.png" class="actionIcon" />
                                                </div>
                                                <div class="cursor" *ngIf="is_parent_id" (click)="add_review_redirect(2)" title="Add Review">
                                                    <img src="../../assets/icons/review_blue.png" class="actionIcon" />
                                                </div>
                                        </div>
                                    </div>    
                                    <div class="col">
                                        <div class="mb-2">
                                                <div class="cursor" title="Subscribe" *ngIf="is_parent_id === false">
                                                        <img src="../../assets/icons/subscribe_grey.png" class="actionIcon" />
                                                </div>
                                                <div class="item item-3 cursor" (click)="unsubscribe_venue()" title="UnSubscribe"  *ngIf="is_parent_id && isSubscribeVisible"> 
                                                    <img src="../../assets/icons/subscribe_orange.png" class="actionIcon" />
                                                </div>
                                                <div class="item item-3 cursor" (click)="add_subscription_venue()" title="Subscribe" *ngIf="is_parent_id && isSubscribeVisible != true">
                                                    <img src="../../assets/icons/subscribe_blue.png" class="actionIcon" />
                                                </div>
                                        </div>
                                    </div>
                                </div>
                        </div>
               

            </mat-card-content>
        </mat-card>

        <mat-tab-group class="tabs about-reviews-margin" (selectedTabChange)="show_reviews($event)"
            [selectedIndex]="selectedIndex" *ngIf="venue">
            <mat-tab label="About">
                <mat-card>
                    <mat-card-content class="about-font">
                        <p class="basic-information" *ngIf="category">
                            <span><img src="../../assets/icons/noun_categories_1.png" alt="Category" title="Category" class="icon"></span>
                            <span class="wrap">{{category}}</span>
                        </p>
                        <p class="basic-information" *ngIf="city">
                            <span><img src="../../assets/icons/noun_address_1.png" alt="Location" title="Location" class="icon"></span>
                            <span class="wrap">{{street}}, {{city}}, {{state}}</span>
                        </p>

                        <p class="basic-information" hidden>
                            <span><img src="../../assets/icons/noun_ratings_1.png" alt="Rating" title="Rating" class="icon"></span>
                            <span class="wrap">Recomendations</span>
                        </p>

                        <p class="basic-information" *ngIf="rating">
                            <span><img src="../../assets/icons/noun_ratings_1.png" alt="Rating" title="Rating" class="icon"></span>
                            <span class="wrap">{{rating}} / {{google_rating_out_of}}</span>
                        </p>

                        <p class="basic-information " *ngIf="venue.description">
                            <span><img src="../../assets/icons/noun_Information_1.png" alt="Description" title="Description" class="icon"></span>
                            <span class="wrap">{{venue.description}}</span>
                        </p>
                        <!-- Missing updated parking icon -->
                        <p class="basic-information" *ngIf="parking">
                            <span><i title="Parking Information" class="icon material-icons">motorcycle</i></span>
                            <span class="wrap">{{parking}}</span>
                        </p>
                        <p class="basic-information" hidden>
                            <span><img src="../../assets/icons/noun_Information_1.png" alt="Information" title="Information" class="icon"></span>
                            <span class="wrap">Rest Room information</span>
                        </p>

                        <p class="basic-information" hidden>
                            <span><img src="../../assets/icons/noun_Information_1.png" alt="Information" title="Information" class="icon"></span>
                            <span class="wrap">Outside food allowed or not</span>
                        </p>

                        <p class="basic-information" hidden>
                            <span><img src="../../assets/icons/noun_Information_1.png" alt="Information" title="Information" class="icon"></span>
                            <span class="wrap">No shade in trails</span>
                        </p>

                        <p class="basic-information" hidden>
                            <span><img src="../../assets/icons/noun_Information_1.png" alt="Information" title="Information" class="icon"></span>
                            <span class="wrap">Small lake at the end of the trail.Keep extra set of cloths</span>
                        </p>

                        <p class="basic-information" hidden>
                            <span><i title="Distance" class="icon material-icons material-icon-red-color">place</i></span>
                            <span class="wrap">8 miles from you</span>
                        </p>
                        <p class="basic-information" hidden>
                            <span><img src="../../assets/icons/noun_age_1.png" alt="Age" title="Age" class="icon"></span>
                            <span class="wrap">Good for all ages</span>
                        </p>

                        <p class="basic-information" hidden>
                            <span><img src="../../assets/icons/noun_address_1.png" alt="Location" title="Location" class="icon"></span>
                            <span class="wrap">{{venue.misc.address}}</span>
                        </p>
                        <p class="basic-information"  *ngIf="tips_for_parent">
                            <span><img src="../../assets/icons/noun_tips_1.png" alt="Tips" title="Tips" class="icon"></span>
                            <span class="wrap">{{tips_for_parent}}</span>
                        </p>
                        
                        <p class="basic-information"  *ngIf="price">
                                <span><img src="../../assets/icons/noun_price_1.png" alt="Price" title="Price" class="icon"></span>
                                <span class="wrap">${{price}}</span>
                        </p>

                        <p class="basic-information"  *ngIf="contact_number">
                                <span><img src="../../assets/icons/noun_Phone_1.png" alt="Contact Number" title="Contact Number" class="icon"></span>
                                <span class="wrap">{{contact_number}}</span>
                        </p>
    
                        
                        <p class="basic-information" *ngIf="timings_array">
                            <span><img src="../../assets/icons/noun_Date%20and%20Time_1.png" alt="Hours" title="Hours" class="icon"></span>
                            <span class="text" (click)="showMoreHours()" *ngIf="isShowMoreHours">Hours Today - {{timings_array[dayOfWeek]}}</span>
                            <span class="text" (click)="showMoreHours()" *ngIf="isShowMoreHours"><i class="material-icons mouse-pointer">keyboard_arrow_down</i></span>
                            <span class="text" *ngIf="isShowMoreHours==false">{{timings_array}}</span>
                        </p>

                        

                        <ul class="list-group opening-hours" *ngIf="isShowMore">
                            <li
                                (click)="showMoreHours()"
                                *ngFor="let current_slot of timings_array; let even = even; let odd = odd">
                                {{current_slot}}</li>
                        </ul>
                        
                        <br>


                        <p class="basic-information" hidden>
                            <span><img src="../../assets/icons/noun_price_1.png" alt="Price" title="Price" class="icon"></span>
                            <span class="wrap">Free</span>
                        </p>

                        <mat-card-actions class="detail-buttons-space">
                            <button mat-button class="detail-buttons mouse-pointer" (click)="venue_redirect()">LOCATION WEBSITE</button>
                        </mat-card-actions>


                    </mat-card-content>
                </mat-card>
            </mat-tab>
            <mat-tab label="Reviews">
                <mat-card>
                    <div class="margin-review">
                        <div class="row">
                            <div class="col-md-2"></div>
                            <div class="col-md-8">
                                <div class="review-width" *ngFor="let current_review of user_reviews;">
                                    {{current_review.review}}
                                </div>
                                <div class="review-font" *ngIf="no_reviews">
                                    No reviews yet!
                                </div>
                            </div>
                            <div class="col-md-2"></div>
                        </div>
                    </div>
                </mat-card>
            </mat-tab>
            <mat-tab label="Add Review" *ngIf="is_review_click" style="width: 50%">
                <mat-card>
                        <div class="form-group review-margin">
                                <div class="row">
                                  <div class="col-md-2"></div>
                                  <div class="col-md-8">
                                    <h4 class="review-heading" align="center">Write a review</h4>
                                    <textarea class="form-control" rows="5" id="review"
                                      placeholder="Add review or tips to other parents" [(ngModel)]="review" required
                                      (change)="validate_review()"></textarea>
                                    <small id="miscHelp" class="form-text text-muted italic-font-style">We respect your
                                      privacy. Your name will not be shown to other
                                      users
                                    </small>
                                    <div *ngIf="isErrorVisible" class="alert alert-danger">
                                      <div>
                                        {{errorMessage }}
                                      </div>
                                    </div>
                                    <div *ngIf="isSuccessVisible" class="alert alert-success">
                                      <div>
                                        {{errorMessage }}
                                      </div>
                                    </div>
                                    <div class="form-group review-margin btn-sec">
                                      <button type="button" class="btn btn-sign-up" (click)="add_review()">Submit</button>
                                    </div>
                                  </div>
                                  <div class="col-md-2"></div>
                                </div>
                        </div>
                </mat-card>
            </mat-tab>
        </mat-tab-group>
         <hr class="hr-Rectangle-200">
    </div>
</div>
<br> <br>
